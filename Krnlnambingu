-- ü¶ä NAM B·ªä KH√ôNG - ULTIMATE EDITION ü¶ä
-- Key: nambikhung | Flycam d√πng tay xoay tho·∫£i m√°i
repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TextChatService = game:GetService("TextChatService")

-- [ 1. CHAT "RUN FOX V7" ]
task.spawn(function()
    local msg = "RUN FOX V7"
    if TextChatService.ChatVersion == Enum.ChatVersion.TextChatService then
        local channel = TextChatService.TextChannels.RBXGeneral
        if channel then channel:SendAsync(msg) end
    else
        local event = ReplicatedStorage:FindFirstChild("DefaultChatSystemChatEvents")
        if event then event.SayMessageRequest:FireServer(msg, "All") end
    end
end)

-- [ 2. HACKER INTRO - ƒê√öNG 15 GI√ÇY ]
local function playHackerIntro()
    local introGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
    introGui.DisplayOrder = 9999
    local bg = Instance.new("Frame", introGui)
    bg.Size = UDim2.new(1, 0, 1, 0)
    bg.BackgroundColor3 = Color3.new(0, 0, 0)
    
    local txt = Instance.new("TextLabel", bg)
    txt.Size = UDim2.new(1, -40, 1, -40)
    txt.Position = UDim2.new(0, 20, 0, 20)
    txt.TextColor3 = Color3.fromRGB(0, 255, 0)
    txt.Font = Enum.Font.Code
    txt.TextSize = 15
    txt.TextXAlignment = "Left"
    txt.TextYAlignment = "Top"
    
    local start = tick()
    while tick() - start < 15 do
        txt.Text = txt.Text .. "\n> NAM_BI_KHUNG_LOADING_0x" .. math.random(100,999)
        if #txt.Text > 1000 then txt.Text = string.sub(txt.Text, -500) end
        task.wait(0.1)
    end
    introGui:Destroy()
end

-- [ 3. H·ªÜ TH·ªêNG KEY ]
local function checkKey()
    local keyGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
    local f = Instance.new("Frame", keyGui)
    f.Size = UDim2.new(0, 300, 0, 150)
    f.Position = UDim2.new(0.5, -150, 0.5, -75)
    f.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    
    local box = Instance.new("TextBox", f)
    box.Size = UDim2.new(0, 240, 0, 40)
    box.Position = UDim2.new(0.5, -120, 0.3, 0)
    box.PlaceholderText = "NH·∫¨P KEY: nambikhung"
    box.Text = ""
    
    local btn = Instance.new("TextButton", f)
    btn.Size = UDim2.new(0, 120, 0, 35)
    btn.Position = UDim2.new(0.5, -60, 0.7, 0)
    btn.Text = "X√ÅC NH·∫¨N"
    
    local verified = false
    btn.MouseButton1Click:Connect(function()
        if box.Text == "nambikhung" then verified = true end
    end)
    repeat task.wait() until verified
    keyGui:Destroy()
end

playHackerIntro()
checkKey()

-- ==========================================
-- [ MENU CH√çNH: NAM B·ªä KH√ôNG ]
-- ==========================================
local mainGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
mainGui.ResetOnSpawn = false

local mainFrame = Instance.new("Frame", mainGui)
mainFrame.Size = UDim2.new(0, 240, 0, 240)
mainFrame.Position = UDim2.new(0.5, -120, 0.5, -120)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 15, 0)
mainFrame.Active, mainFrame.Draggable = true, true
Instance.new("UICorner", mainFrame)

local stroke = Instance.new("UIStroke", mainFrame)
stroke.Thickness = 2
RunService.RenderStepped:Connect(function() stroke.Color = Color3.fromHSV(tick()%3/3, 1, 1) end)

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 40)
title.Text = "ü¶ä NAM B·ªä KH√ôNG ü¶ä"
title.TextColor3 = Color3.new(1, 1, 1)
title.Font = "GothamBlack"
title.BackgroundTransparency = 1

local function createBtn(y, text)
    local btn = Instance.new("TextButton", mainFrame)
    btn.Size = UDim2.new(0, 200, 0, 35)
    btn.Position = UDim2.new(0, 20, 0, y)
    btn.BackgroundColor3 = Color3.fromRGB(50, 25, 0)
    btn.TextColor3 = Color3.new(1, 1, 1)
    btn.Text = text
    btn.Font = "GothamBold"
    Instance.new("UICorner", btn)
    return btn
end

local killBtn = createBtn(50, "üíÄ KILL ALL: OFF")
local flyGuiBtn = createBtn(95, "‚úàÔ∏è FLY GUI (XNEOFF)")
local flycamBtn = createBtn(140, "üé• FLYCAM: OFF")
local musicBtn = createBtn(185, "üéµ MUSIC GUI")

-- [ KILL ALL CH√âM C·∫¢ SERVER ]
local killActive = false
killBtn.MouseButton1Click:Connect(function()
    killActive = not killActive
    killBtn.Text = killActive and "üíÄ KILL ALL: ON" or "üíÄ KILL ALL: OFF"
end)

task.spawn(function()
    while true do
        task.wait(0.1)
        if killActive then
            pcall(function()
                local tool = LocalPlayer.Character:FindFirstChildOfClass("Tool") or LocalPlayer.Backpack:FindFirstChildOfClass("Tool")
                if tool then
                    tool.Parent = LocalPlayer.Character
                    for _, p in pairs(Players:GetPlayers()) do
                        if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Humanoid") and p.Character.Humanoid.Health > 0 then
                            LocalPlayer.Character.HumanoidRootPart.CFrame = p.Character.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
                            tool:Activate()
                            task.wait(0.05)
                        end
                    end
                end
            end)
        end
    end
end)

-- [ FLY GUI (LINK ANH G·ª¨I) ]
flyGuiBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
end)

-- [ MUSIC GUI ]
musicBtn.MouseButton1Click:Connect(function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/Roblox-HttpSpy/my-Garbage/refs/heads/main/FeMusicExploit.lua"))()
end)

-- ==========================================
-- [ FLYCAM ƒê·∫∂C BI·ªÜT - XOAY TAY THO·∫¢I M√ÅI ]
-- ==========================================
local flycamActive = false
local camPart = nil
local fcGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui)
fcGui.Enabled = false

local function createControl(pos, text, parent)
    local b = Instance.new("TextButton", parent)
    b.Size = UDim2.new(0, 65, 0, 65)
    b.Position = pos
    b.BackgroundColor3 = Color3.new(0,0,0)
    b.BackgroundTransparency = 0.4
    b.Text = text
    b.TextColor3 = Color3.new(1,1,1)
    Instance.new("UICorner", b).CornerRadius = UDim.new(1, 0)
    return b
end

local leftF = Instance.new("Frame", fcGui)
leftF.Size = UDim2.new(0, 150, 0, 200)
leftF.Position = UDim2.new(0, 40, 0.6, 0)
leftF.BackgroundTransparency = 1

local rightF = Instance.new("Frame", fcGui)
rightF.Size = UDim2.new(0, 150, 0, 200)
rightF.Position = UDim2.new(1, -190, 0.6, 0)
rightF.BackgroundTransparency = 1

local bUp = createControl(UDim2.new(0, 40, 0, 0), "L√äN", leftF)
local bDown = createControl(UDim2.new(0, 40, 0, 80), "XU·ªêNG", leftF)
local bL = createControl(UDim2.new(0, 0, 0, 40), "TR√ÅI", rightF)
local bR = createControl(UDim2.new(0, 80, 0, 40), "PH·∫¢I", rightF)
local bExit = createControl(UDim2.new(0.5, -30, 0, -100), "THO√ÅT", leftF)

local moveDir = Vector3.new(0,0,0)

flycamBtn.MouseButton1Click:Connect(function()
    flycamActive = not flycamActive
    fcGui.Enabled = flycamActive
    mainFrame.Visible = not flycamActive
    
    if flycamActive then
        camPart = Instance.new("Part", workspace)
        camPart.Size = Vector3.new(1,1,1)
        camPart.Transparency = 1
        camPart.CanCollide = false
        camPart.Anchored = true
        camPart.CFrame = Camera.CFrame
        Camera.CameraSubject = camPart
    else
        if camPart then camPart:Destroy() end
        Camera.CameraSubject = LocalPlayer.Character.Humanoid
    end
end)

bExit.MouseButton1Click:Connect(function()
    flycamActive = false
    fcGui.Enabled = false
    mainFrame.Visible = true
    if camPart then camPart:Destroy() end
    Camera.CameraSubject = LocalPlayer.Character.Humanoid
end)

-- G√°n h∆∞·ªõng di chuy·ªÉn
bUp.MouseButton1Down:Connect(function() moveDir = Vector3.new(0,0,-1) end)
bDown.MouseButton1Down:Connect(function() moveDir = Vector3.new(0,0,1) end)
bL.MouseButton1Down:Connect(function() moveDir = Vector3.new(-1,0,0) end)
bR.MouseButton1Down:Connect(function() moveDir = Vector3.new(1,0,0) end)

local function stop() moveDir = Vector3.new(0,0,0) end
bUp.MouseButton1Up:Connect(stop) bDown.MouseButton1Up:Connect(stop)
bL.MouseButton1Up:Connect(stop) bR.MouseButton1Up:Connect(stop)

RunService.RenderStepped:Connect(function()
    if flycamActive and camPart then
        -- L·∫•y LookVector c·ªßa Camera ƒë·ªÉ bay t·ªõi h∆∞·ªõng ƒëang nh√¨n
        local look = Camera.CFrame.LookVector
        local right = Camera.CFrame.RightVector
        local speed = 2
        
        -- T√≠nh to√°n v·ªã tr√≠ m·ªõi
        local nextPos = camPart.Position + (look * -moveDir.Z * speed) + (right * moveDir.X * speed)
        camPart.CFrame = CFrame.new(nextPos) * (Camera.CFrame - Camera.CFrame.Position)
    end
end)
